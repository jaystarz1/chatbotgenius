<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI News - The latest artificial intelligence news and updates curated by The Chatbot Genius">
    <title>AI News - The Chatbot Genius</title>
    <link rel="alternate" type="application/rss+xml" title="The Chatbot Genius - AI News Feed" href="https://thechatbotgenius.com/feed.xml">
    <style>
        /* Inline CSS to ensure styles load */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
        }
        
        /* Skip Navigation Link - Accessibility */
        .skip-nav {
            position: absolute;
            top: -40px;
            left: 0;
            background: #1a1f71;
            color: white;
            padding: 8px;
            text-decoration: none;
            z-index: 9999;
        }
        
        .skip-nav:focus {
            top: 0;
        }
        
        /* Focus Indicators for Accessibility */
        a:focus, 
        button:focus, 
        input:focus, 
        select:focus, 
        textarea:focus {
            outline: 3px solid #f9c74f;
            outline-offset: 2px;
        }
        
        /* Top Banner */
        .top-banner {
            background: #0a0f51;
            color: white;
            padding: 12px 0;
            text-align: center;
            width: 100%;
            position: relative;
            z-index: 1001;
        }
        
        .banner-content {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .banner-item {
            font-size: 0.95rem;
            font-weight: 500;
        }
        
        .banner-separator {
            color: #4c5fd5;
            font-weight: bold;
        }
        
        .navbar {
            background: linear-gradient(135deg, #1a1f71 0%, #4c5fd5 100%);
            color: white;
            padding: 0;
            position: sticky;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }
        
        .nav-brand {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        /* Mobile Menu Button */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: 2px solid white;
            color: white;
            padding: 8px 12px;
            cursor: pointer;
            font-size: 1rem;
            border-radius: 4px;
            margin: auto 0;
        }
        
        .mobile-menu-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
            align-items: center;
            height: 100%;
        }
        
        .nav-links li {
            display: flex;
            align-items: center;
            height: 100%;
        }
        
        .nav-links a:not(.btn) {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            height: 100%;
        }
        
        .nav-links a:not(.btn):hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        /* Hide decorative emoji from screen readers */
        .decorative-emoji {
            aria-hidden: true;
        }
        
        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, #1a1f71 0%, #4c5fd5 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
        }
        
        .page-header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .page-header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* News Grid */
        .news-section {
            padding: 80px 0;
            background: #f8f9fa;
        }
        
        .news-stats {
            text-align: center;
            margin-bottom: 40px;
            color: #666;
            font-size: 1.1rem;
        }
        
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .news-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .news-card-content {
            padding: 25px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .news-card h3 {
            color: #1a1f71;
            font-size: 1.3rem;
            margin-bottom: 15px;
            line-height: 1.4;
        }
        
        .news-card h3 a {
            color: inherit;
            text-decoration: none;
        }
        
        .news-card h3 a:hover {
            color: #4c5fd5;
        }
        
        .news-card-excerpt {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
            flex: 1;
        }
        
        .news-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-size: 0.9rem;
            color: #999;
        }
        
        .news-source {
            font-style: italic;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-width: 60%;
        }
        
        .news-date {
            color: #4c5fd5;
            font-weight: 500;
        }
        
        /* Category Badges */
        .category-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 10px;
            color: white;
        }
        
        /* Category Colors - All 17 categories */
        .category-business { background: #2c3e50; }
        .category-hr { background: #27ae60; }
        .category-jobs { background: #16a085; }
        .category-tech { background: #8e44ad; }
        .category-microsoft { background: #0078d4; }
        .category-meta { background: #1877f2; }
        .category-openai { background: #412991; }
        .category-nvidia { background: #76b900; }
        .category-ycombinator { background: #ff6600; }
        .category-ml { background: #e67e22; }
        .category-ethics { background: #c0392b; }
        .category-privacy { background: #9b59b6; }
        .category-security { background: #34495e; }
        .category-policy { background: #d35400; }
        .category-legal { background: #7f8c8d; }
        .category-healthcare { background: #e74c3c; }
        .category-education { background: #3498db; }
        .category-stocks { background: #f39c12; }
        .category-general { background: #95a5a6; }
        
        /* Category Filter Buttons */
        .category-filters {
            text-align: center;
            margin-bottom: 40px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .filter-btn {
            padding: 8px 20px;
            border: none;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f0f0f0;
            color: #333;
        }
        
        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .filter-btn.active {
            background: #e67e22;
            color: white;
        }
        
        .news-card.hidden {
            display: none;
        }
        
        /* Return to Top Button - Desktop Only */
        .return-to-top {
            display: none;
            position: fixed;
            bottom: 40px;
            right: 40px;
            background: #ff8c42; /* Orange to match theme */
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 36px; /* Bigger arrow */
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 997;
            opacity: 0;
            transform: translateY(100px);
            align-items: center;
            justify-content: center;
        }
        
        .return-to-top:hover {
            background: #ff7329; /* Darker orange on hover */
            transform: translateY(0) scale(1.1);
        }
        
        .return-to-top.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Hide on mobile to avoid conflicts with category button */
        @media (max-width: 768px) {
            .return-to-top {
                display: none !important;
            }
        }
        
        /* Mobile Dropdown for Categories - Fixed floating approach */
        .category-dropdown {
            display: none;
            width: 100%;
            text-align: center;
        }
        
        /* Mobile Category Button */
        .mobile-category-button {
            display: none;
            position: fixed;
            bottom: 80px; /* Moved higher to avoid bottom interference */
            right: 20px;
            background: #ff8c42; /* Orange background to match site buttons */
            color: white;
            border: none;
            border-radius: 50px;
            padding: 20px 30px; /* Bigger padding */
            font-weight: 600;
            font-size: 1.1rem; /* Larger text */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .mobile-category-button:hover {
            background: #ff7329; /* Darker orange on hover */
            transform: scale(1.05);
        }
        
        /* Mobile Category Backdrop */
        .mobile-category-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .mobile-category-backdrop.show {
            opacity: 1;
        }
        
        /* Mobile Category Panel */
        .mobile-category-panel {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
            padding: 20px;
            z-index: 999;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            max-height: 70vh; /* Limit height */
            overflow-y: auto; /* Allow scrolling if needed */
        }
        
        .mobile-category-panel.show {
            transform: translateY(0);
        }
        
        .mobile-category-panel h3 {
            margin: 0 0 15px 0;
            color: #1a1f71;
            font-size: 1.2rem;
        }
        
        .mobile-category-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .mobile-category-item {
            background: #f0f0f0;
            border: none;
            padding: 10px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            font-size: 0.9rem;
        }
        
        .mobile-category-item.active {
            background: #e67e22;
            color: white;
        }
        
        .mobile-category-close {
            width: 100%;
            padding: 12px;
            background: #ff8c42; /* Orange to match theme */
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .mobile-category-close:hover {
            background: #ff7329;
        }
        
        .category-dropdown select {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            background: white;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 20px;
            padding-right: 45px;
        }
        
        .category-dropdown select:focus {
            outline: none;
            border-color: #e67e22;
        }
        
        .news-loading {
            text-align: center;
            padding: 100px 20px;
            color: #666;
            font-size: 1.2rem;
        }
        
        .news-error {
            background: #fee;
            color: #c00;
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Footer */
        .footer {
            background: #1a1f71;
            color: white;
            padding: 60px 0 30px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            margin-bottom: 40px;
        }
        
        .footer-section h3 {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        
        .footer-section p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .footer-contact {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .footer-contact a {
            color: white;
            text-decoration: underline;
            font-size: 1.1rem;
        }
        
        .footer-contact a:hover {
            opacity: 0.8;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            opacity: 0.8;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            margin: 0 10px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary {
            background: #ff8c42;
            color: white;
            border: 2px solid #ff8c42;
        }
        
        .btn-primary:hover {
            background: #ff7329;
            border-color: #ff7329;
        }
        
        .btn-book {
            background: #ff8c42;
            color: white;
            font-weight: bold;
            border: 2px solid #ff8c42;
        }
        
        .btn-book:hover {
            background: #ff7329;
            border-color: #ff7329;
        }
        
        /* Mobile responsive styles */
        @media (max-width: 768px) {
            .footer-content {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .footer-contact {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .banner-content {
                font-size: 0.85rem;
            }
            
            .banner-separator {
                display: none;
            }
            
            .banner-item {
                width: 100%;
                padding: 2px 0;
            }
            
            .mobile-menu-toggle {
                display: block;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: #1a1f71;
                flex-direction: column;
                padding: 20px;
                gap: 10px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                height: auto;
            }
            
            .nav-links li {
                width: 100%;
                height: auto;
            }
            
            .nav-links a:not(.btn) {
                width: 100%;
                justify-content: center;
                padding: 10px;
            }
            
            .nav-links.show {
                display: flex;
            }
            
            .page-header h1 {
                font-size: 2.5rem;
            }
            
            .news-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .news-card-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .news-source {
                max-width: 100%;
            }
            
            /* Show mobile category button */
            .mobile-category-button {
                display: block;
            }
            
            /* Enable mobile panel and backdrop on mobile */
            .mobile-category-panel {
                display: none; /* Initially hidden but available */
            }
            
            .mobile-category-backdrop {
                display: none; /* Initially hidden but available */
            }
            
            /* Hide desktop filters */
            .category-filters {
                display: none;
            }
        }
        
        /* Tablet styles */
        @media (min-width: 769px) and (max-width: 1024px) {
            .category-filters {
                max-width: 100%;
            }
            
            .filter-btn {
                padding: 6px 16px;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <!-- Skip Navigation Link -->
    <a href="#main-content" class="skip-nav">Skip to main content</a>

    <!-- Top Banner -->
    <div class="top-banner">
        <div class="container">
            <div class="banner-content">
                <span class="banner-item">
                    <span aria-hidden="true">✍️</span> Writer & Publisher
                </span>
                <span class="banner-separator" aria-hidden="true">•</span>
                <span class="banner-item">
                    <span aria-hidden="true">🤖</span> Custom GPT & App Vibe Coder
                </span>
                <span class="banner-separator" aria-hidden="true">•</span>
                <span class="banner-item">
                    <span aria-hidden="true">🎓</span> Generative AI Trainer
                </span>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="container">
            <div class="nav-content">
                <div class="nav-brand">
                    <span aria-hidden="true">🤖</span> The Chatbot Genius
                </div>
                <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-expanded="false" aria-controls="nav-links" aria-label="Toggle navigation menu">
                    Menu
                </button>
                <ul class="nav-links" id="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="ai-news.html" aria-current="page">AI News</a></li>
                    <li><a href="books.html">Books</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="/#contact">Contact</a></li>
                    <li><a href="https://calendly.com/jay-barkerhrs/30min" class="btn btn-book" style="padding: 8px 20px; border-radius: 5px;" target="_blank" aria-label="Book a consultation call - opens in new window">Book a Call</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
        <div class="container">
            <h1><span aria-hidden="true">📰</span> AI News</h1>
            <p>Stay updated with the latest developments in artificial intelligence, curated from multiple sources</p>
            <div style="margin-top: 20px;">
                <a href="/feed.xml" style="display: inline-flex; align-items: center; gap: 8px; background: #ff8c42; color: white; padding: 10px 20px; border-radius: 25px; text-decoration: none; font-weight: 600; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)';" onmouseout="this.style.transform='translateY(0)';">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 11a9 9 0 0 1 9 9"></path>
                        <path d="M4 4a16 16 0 0 1 16 16"></path>
                        <circle cx="5" cy="19" r="1"></circle>
                    </svg>
                    Subscribe via RSS
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <section class="news-section">
            <div class="container">
                <!-- Daily AI Digest -->
                <div id="daily-digest" style="background: linear-gradient(135deg, #1a1f71 0%, #4c5fd5 100%); padding: 30px; border-radius: 15px; margin-bottom: 40px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 10px;">
                        <h2 style="color: #f9c74f; margin: 0; font-size: 2em;">📊 Daily AI Digest</h2>
                        <p style="color: rgba(255, 255, 255, 0.9); margin: 0; font-size: 0.95rem;" id="digest-time">As of 9:00 AM EST</p>
                    </div>
                    
                    <h3 style="color: white; font-size: 1.8em; margin-bottom: 25px; line-height: 1.2; text-align: center;" id="digest-headline">Loading today's AI insights...</h3>
                    
                    <div class="digest-grid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                        <!-- Key Trends Card -->
                        <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                            <h4 style="color: #1a1f71; margin-bottom: 15px; font-size: 1.2em; display: flex; align-items: center; gap: 8px;">
                                <span>🔍</span> Key Trends
                            </h4>
                            <ul style="list-style: none; padding: 0; margin: 0;" id="key-trends-list">
                                <li style="color: #333; margin-bottom: 12px; padding-left: 20px; position: relative; line-height: 1.5;">
                                    <span style="position: absolute; left: 0; color: #f9c74f;">▸</span>
                                    Loading trends...
                                </li>
                            </ul>
                        </div>
                        
                        <!-- Chart Card -->
                        <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; align-items: center; justify-content: center;">
                            <div id="chart-container" style="width: 100%; max-width: 350px; height: 300px; position: relative;">
                                <canvas id="digest-chart" style="width: 100%; height: 100%;"></canvas>
                            </div>
                            <p style="margin-top: 10px; color: #666; font-size: 0.85em; text-align: center;" id="chart-caption">Analyzed 100 articles from the past 24 hours</p>
                        </div>
                        
                        <!-- Top Story Card -->
                        <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                            <h4 style="color: #1a1f71; margin-bottom: 15px; font-size: 1.2em; display: flex; align-items: center; gap: 8px;">
                                <span>🏆</span> Top Story
                            </h4>
                            <p style="color: #333; line-height: 1.6; margin: 0;" id="top-story-content">
                                Loading today's top story...
                            </p>
                        </div>
                        
                        <!-- Today's Outlook Card -->
                        <div style="background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
                            <h4 style="color: #1a1f71; margin-bottom: 15px; font-size: 1.2em; display: flex; align-items: center; gap: 8px;">
                                <span>🔮</span> Today's Outlook
                            </h4>
                            <p style="color: #333; line-height: 1.6; margin: 0;" id="outlook-content">
                                Loading today's outlook...
                            </p>
                        </div>
                    </div>
                </div>
                <!-- End Daily AI Digest -->
                
                <style>
                    /* Mobile responsive for daily digest */
                    @media (max-width: 768px) {
                        #daily-digest {
                            padding: 20px 15px;
                        }
                        
                        #daily-digest h2 {
                            font-size: 1.5em;
                        }
                        
                        #daily-digest h3 {
                            font-size: 1.3em;
                            margin-bottom: 20px;
                        }
                        
                        .digest-grid {
                            grid-template-columns: 1fr !important;
                            gap: 15px !important;
                        }
                    }
                </style>
                
                <div class="news-stats" id="news-stats">
                    Loading latest AI news...
                </div>
                
                <!-- Desktop Filter Buttons -->
                <div class="category-filters" id="category-filters">
                    <!-- Filter buttons will be inserted here -->
                </div>
                
                <div class="news-grid" id="news-grid">
                    <div class="news-loading">
                        <p>Fetching articles from multiple sources...</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="footer-content">
            <div class="footer-section">
                <h3>About The Chatbot Genius</h3>
                <p>Building the future of conversational AI, one chatbot at a time. Specializing in secure, practical AI solutions that transform how businesses operate.</p>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>Ready to transform your ideas into organized content? Let's talk.</p>
                <div class="footer-contact">
                    <p style="margin: 0;"><span aria-hidden="true">📧</span> <a href="mailto:jay@barkerhrs.com">jay@barkerhrs.com</a></p>
                    <a href="https://calendly.com/jay-barkerhrs/30min" class="btn btn-primary" target="_blank" aria-label="Book a call - opens in new window">Book a Call</a>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2025 The Chatbot Genius. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Mobile Category Button and Panel -->
    <button class="mobile-category-button" id="mobile-category-button">
        <span id="current-category-label">All Categories</span> ▼
    </button>
    
    <div class="mobile-category-backdrop" id="mobile-category-backdrop" onclick="closeCategoryPanel()"></div>
    
    <div class="mobile-category-panel" id="mobile-category-panel">
        <h3>Select Category</h3>
        <div class="mobile-category-grid" id="mobile-category-grid">
            <!-- Categories will be populated here -->
        </div>
        <button class="mobile-category-close" onclick="closeCategoryPanel()">Close</button>
    </div>
    
    <!-- Return to Top Button (Desktop Only) -->
    <button class="return-to-top" id="return-to-top" title="Return to top" onclick="scrollToTop()">
        ↑
    </button>
    
    <script>
        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const navLinks = document.getElementById('nav-links');
        
        mobileMenuToggle.addEventListener('click', function() {
            const isExpanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !isExpanded);
            navLinks.classList.toggle('show');
        });
        
        // Return to Top Button functionality
        function scrollToTop() {
            // Scroll to category filters area
            const categoryFilters = document.getElementById('category-filters');
            if (categoryFilters) {
                const offset = 100; // Offset to account for fixed header
                const elementPosition = categoryFilters.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - offset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            } else {
                // Fallback to top if filters not found
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
        }
        
        // Show/hide return to top button based on scroll position
        window.addEventListener('scroll', function() {
            const returnToTopButton = document.getElementById('return-to-top');
            if (returnToTopButton) {
                if (window.pageYOffset > 800) {
                    returnToTopButton.style.display = 'flex';
                    returnToTopButton.classList.add('show');
                } else {
                    returnToTopButton.classList.remove('show');
                    setTimeout(() => {
                        if (!returnToTopButton.classList.contains('show')) {
                            returnToTopButton.style.display = 'none';
                        }
                    }, 300);
                }
            }
        });
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.nav-content') && navLinks.classList.contains('show')) {
                navLinks.classList.remove('show');
                mobileMenuToggle.setAttribute('aria-expanded', 'false');
            }
        });
        
        // Close mobile menu when pressing Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape' && navLinks.classList.contains('show')) {
                navLinks.classList.remove('show');
                mobileMenuToggle.setAttribute('aria-expanded', 'false');
                mobileMenuToggle.focus();
            }
        });

        // Category definitions - All 17 specific categories
        const categoryKeywords = {
            'Business': ['ROI', 'revenue', 'profit', 'enterprise', 'CEO', 'startup', 'investment', 'market', 'business', 'company', 'corporate', 'executive', 'IPO', 'acquisition', 'merger'],
            'HR': ['hiring', 'recruitment', 'employee', 'workplace', 'talent', 'workforce', 'HR', 'human resources', 'staff', 'personnel', 'culture', 'remote work', 'hybrid'],
            'Jobs': ['job', 'career', 'employment', 'position', 'opening', 'vacancy', 'hire', 'recruiting', 'candidate', 'interview', 'salary', 'benefits'],
            'Tech': ['API', 'coding', 'software', 'hardware', 'cloud', 'developer', 'programming', 'tech', 'technology', 'platform', 'infrastructure'],
            'Microsoft': ['Microsoft', 'Azure', 'Windows', 'Office', 'Teams', 'Copilot', 'Bing', 'Surface', 'Xbox', 'Satya Nadella'],
            'Meta': ['Meta', 'Facebook', 'Instagram', 'WhatsApp', 'Oculus', 'Reality Labs', 'Zuckerberg', 'Threads', 'Metaverse'],
            'OpenAI': ['OpenAI', 'ChatGPT', 'GPT-4', 'GPT-5', 'Sam Altman', 'DALL-E', 'Codex', 'Whisper', 'Sora'],
            'NVIDIA': ['NVIDIA', 'GeForce', 'CUDA', 'Jensen Huang', 'RTX', 'GPU', 'graphics card', 'tensor cores', 'AI chip'],
            'YCombinator': ['Y Combinator', 'YC', 'startup accelerator', 'Paul Graham', 'Demo Day', 'batch', 'incubator', 'Hacker News'],
            'ML': ['machine learning', 'neural', 'deep learning', 'LLM', 'transformer', 'dataset', 'algorithm', 'model', 'training'],
            'Ethics': ['bias', 'ethical', 'ethics', 'fairness', 'transparency', 'accountability', 'responsible AI', 'AI ethics'],
            'Privacy': ['privacy', 'data protection', 'GDPR', 'personal data', 'surveillance', 'encryption', 'data breach', 'confidential'],
            'Security': ['security', 'cybersecurity', 'vulnerability', 'hack', 'breach', 'malware', 'phishing', 'threat', 'exploit'],
            'Policy': ['policy', 'regulation', 'governance', 'legislation', 'government', 'regulatory', 'compliance', 'framework'],
            'Legal': ['legal', 'lawsuit', 'court', 'lawyer', 'attorney', 'litigation', 'law', 'copyright', 'patent'],
            'Healthcare': ['medical', 'patient', 'diagnosis', 'healthcare', 'clinical', 'doctor', 'hospital', 'health', 'medicine'],
            'Education': ['student', 'learning', 'education', 'training', 'course', 'university', 'school', 'teacher'],
            'Stocks': ['stock', 'shares', 'trading', 'investment', 'market cap', 'IPO', 'nasdaq', 'NYSE', 'portfolio']
        };

        // Function to categorize an article
        function categorizeArticle(title, excerpt) {
            const text = (title + ' ' + excerpt).toLowerCase();
            let bestCategory = 'General';
            let highestScore = 0;

            // Check company-specific categories first with higher weight
            const companyCategories = ['Microsoft', 'Meta', 'OpenAI', 'NVIDIA', 'YCombinator'];
            for (const category of companyCategories) {
                const keywords = categoryKeywords[category];
                for (const keyword of keywords) {
                    if (text.includes(keyword.toLowerCase())) {
                        return category; // Immediate return for company matches
                    }
                }
            }

            // Then check other categories
            for (const [category, keywords] of Object.entries(categoryKeywords)) {
                if (companyCategories.includes(category)) continue; // Skip already checked
                
                let score = 0;
                for (const keyword of keywords) {
                    if (text.includes(keyword.toLowerCase())) {
                        score++;
                    }
                }
                if (score > highestScore) {
                    highestScore = score;
                    bestCategory = category;
                }
            }

            return bestCategory;
        }

        // Current filter state
        let currentFilter = 'all';

        // Function to filter articles
        function filterArticles(category) {
            currentFilter = category;
            const cards = document.querySelectorAll('.news-card');
            const buttons = document.querySelectorAll('.filter-btn');
            const mobileButtons = document.querySelectorAll('.mobile-category-item');
            const currentLabel = document.getElementById('current-category-label');

            // Update button states
            buttons.forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Update mobile button states
            mobileButtons.forEach(btn => {
                if (btn.dataset.category === category) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Update current category label
            if (currentLabel) {
                currentLabel.textContent = category === 'all' ? 'All Categories' : category;
            }

            // Show/hide cards
            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
            
            // Scroll to first visible article
            const firstVisibleCard = document.querySelector('.news-card:not(.hidden)');
            if (firstVisibleCard) {
                // Get the offset to account for any fixed headers
                const offset = 100; // Adjust this value based on your header height
                const elementPosition = firstVisibleCard.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - offset;
                
                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
            
            // Close panel after selection on mobile
            closeCategoryPanel();
        }
        
        // Mobile category panel functions
        function openCategoryPanel() {
            const panel = document.getElementById('mobile-category-panel');
            const backdrop = document.getElementById('mobile-category-backdrop');
            if (panel && backdrop) {
                // Show backdrop
                backdrop.style.display = 'block';
                backdrop.offsetHeight; // Force reflow
                backdrop.classList.add('show');
                
                // Show panel
                panel.style.display = 'block';
                panel.offsetHeight; // Force reflow
                panel.classList.add('show');
            }
        }
        
        function closeCategoryPanel() {
            const panel = document.getElementById('mobile-category-panel');
            const backdrop = document.getElementById('mobile-category-backdrop');
            if (panel && backdrop) {
                panel.classList.remove('show');
                backdrop.classList.remove('show');
                setTimeout(() => {
                    panel.style.display = 'none';
                    backdrop.style.display = 'none';
                }, 300);
            }
        }
        
        // Initialize mobile category button
        document.addEventListener('DOMContentLoaded', function() {
            const mobileButton = document.getElementById('mobile-category-button');
            if (mobileButton) {
                mobileButton.addEventListener('click', openCategoryPanel);
            }
        });
        
        // Also add initialization after news feeds load
        window.addEventListener('load', function() {
            const mobileButton = document.getElementById('mobile-category-button');
            if (mobileButton && !mobileButton.hasAttribute('data-initialized')) {
                mobileButton.setAttribute('data-initialized', 'true');
                mobileButton.onclick = openCategoryPanel;
            }
        });

        // RSS Feed Functionality for Multiple Feeds
        async function loadAllNewsFeeds() {
            const newsGrid = document.getElementById('news-grid');
            const newsStats = document.getElementById('news-stats');
            const categoryFilters = document.getElementById('category-filters');
            
            // All RSS feed URLs - 17 feeds
            const rssFeeds = [
                'https://www.google.ca/alerts/feeds/04066946017456136967/4823471870123205',
                'https://www.google.ca/alerts/feeds/04066946017456136967/4217792680075237154',
                'https://www.google.ca/alerts/feeds/04066946017456136967/13089354697454058042',
                'https://www.google.ca/alerts/feeds/04066946017456136967/13089354697454058988',
                'https://www.google.ca/alerts/feeds/04066946017456136967/1942817214412033827',
                'https://www.google.ca/alerts/feeds/04066946017456136967/8120264801281996652',
                'https://www.google.ca/alerts/feeds/04066946017456136967/11062023876626914074',
                'https://www.google.ca/alerts/feeds/04066946017456136967/2711366426680219224',
                'https://www.google.ca/alerts/feeds/04066946017456136967/3311723711538288468',
                'https://www.google.ca/alerts/feeds/04066946017456136967/759091706708141296',
                'https://www.google.ca/alerts/feeds/04066946017456136967/5779438660767372325',
                'https://www.google.ca/alerts/feeds/04066946017456136967/12857769517673299701',
                'https://www.google.ca/alerts/feeds/04066946017456136967/8173930679921090367',
                'https://www.google.ca/alerts/feeds/04066946017456136967/10149064895149665631',
                'https://www.google.ca/alerts/feeds/04066946017456136967/10667153709229080869',
                'https://www.google.ca/alerts/feeds/04066946017456136967/11084050275073569809',
                'https://www.google.ca/alerts/feeds/04066946017456136967/3381636154839232159'
            ];
            
            // CORS proxies to try
            const proxies = [
                'https://corsproxy.io/?',
                'https://api.allorigins.win/raw?url=',
                'https://cors-anywhere.herokuapp.com/'
            ];
            
            let allNewsItems = [];
            let successfulFeeds = 0;
            const categoryCounts = {};
            
            // Fetch each feed
            for (const feedUrl of rssFeeds) {
                let feedData = null;
                
                // Try each proxy until one works
                for (const proxy of proxies) {
                    try {
                        const response = await fetch(proxy + encodeURIComponent(feedUrl));
                        if (response.ok) {
                            feedData = await response.text();
                            break;
                        }
                    } catch (e) {
                        continue;
                    }
                }
                
                if (feedData) {
                    try {
                        const parser = new DOMParser();
                        const xmlDoc = parser.parseFromString(feedData, "text/xml");
                        const items = xmlDoc.querySelectorAll("entry");
                        
                        Array.from(items).forEach(item => {
                            const title = item.querySelector("title")?.textContent || "No title";
                            const link = item.querySelector("link")?.getAttribute("href") || "#";
                            const content = item.querySelector("content")?.textContent || "";
                            const published = item.querySelector("published")?.textContent || "";
                            
                            // Extract clean text from HTML content
                            const tempDiv = document.createElement("div");
                            tempDiv.innerHTML = content;
                            const excerpt = tempDiv.textContent.substring(0, 200) + "...";
                            
                            // Extract source from content if possible
                            const sourceMatch = content.match(/- ([^<]+)$/);
                            const source = sourceMatch ? sourceMatch[1] : "AI News";
                            
                            // Categorize the article
                            const category = categorizeArticle(title, excerpt);
                            categoryCounts[category] = (categoryCounts[category] || 0) + 1;
                            
                            allNewsItems.push({
                                title: title.replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>'),
                                link,
                                excerpt,
                                source,
                                category,
                                date: new Date(published),
                                dateString: new Date(published).toLocaleDateString('en-US', {
                                    month: 'short',
                                    day: 'numeric',
                                    year: 'numeric'
                                })
                            });
                        });
                        
                        successfulFeeds++;
                    } catch (e) {
                        console.error('Error parsing feed:', e);
                    }
                }
            }
            
            // Remove duplicates by title
            const uniqueItems = Array.from(
                new Map(allNewsItems.map(item => [item.title, item])).values()
            );
            
            // Sort by date (newest first)
            uniqueItems.sort((a, b) => b.date - a.date);
            
            // Take first 200 items
            const displayItems = uniqueItems.slice(0, 200);
            
            // Update stats
            newsStats.textContent = `Showing ${displayItems.length} latest articles from ${successfulFeeds} sources`;
            
            // Generate filter buttons for desktop
            const categories = ['all', ...Object.keys(categoryKeywords), 'General'];
            categoryFilters.innerHTML = categories.map(cat => {
                const count = cat === 'all' ? displayItems.length : displayItems.filter(item => item.category === cat).length;
                if (count === 0 && cat !== 'all') return ''; // Don't show empty categories
                const displayName = cat === 'all' ? 'All' : cat;
                return `<button class="filter-btn ${cat === 'all' ? 'active' : ''}" 
                        data-category="${cat}" 
                        onclick="filterArticles('${cat}')">
                    ${displayName} (${count})
                </button>`;
            }).join('');
            
            // Generate mobile category buttons
            const mobileCategoryGrid = document.getElementById('mobile-category-grid');
            if (mobileCategoryGrid) {
                mobileCategoryGrid.innerHTML = categories.map(cat => {
                    const count = cat === 'all' ? displayItems.length : displayItems.filter(item => item.category === cat).length;
                    if (count === 0 && cat !== 'all') return ''; // Don't show empty categories
                    const displayName = cat === 'all' ? 'All' : cat;
                    return `<button class="mobile-category-item ${cat === 'all' ? 'active' : ''}" 
                            data-category="${cat}" 
                            onclick="filterArticles('${cat}')">
                        ${displayName} (${count})
                    </button>`;
                }).filter(btn => btn).join('');
            }
            
            // Generate HTML for news cards
            if (displayItems.length > 0) {
                newsGrid.innerHTML = displayItems.map(item => `
                    <article class="news-card" data-category="${item.category}">
                        <div class="news-card-content">
                            <span class="category-badge category-${item.category.toLowerCase()}">${item.category}</span>
                            <h3><a href="${item.link}" target="_blank" rel="noopener noreferrer">${item.title}</a></h3>
                            <p class="news-card-excerpt">${item.excerpt}</p>
                            <div class="news-card-meta">
                                <span class="news-source">${item.source}</span>
                                <span class="news-date">${item.dateString}</span>
                            </div>
                        </div>
                    </article>
                `).join('');
            } else {
                newsGrid.innerHTML = `
                    <div class="news-error">
                        <p>Unable to load news feeds at the moment.</p>
                        <p><small>Please check back later or try refreshing the page.</small></p>
                    </div>
                `;
            }
        }
        
        // Daily Digest Content Generator
        function generateDailyDigest() {
            // Get current date and day of year
            const today = new Date();
            const dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
            
            // Update time
            const timeString = today.toLocaleTimeString('en-US', { 
                hour: 'numeric', 
                minute: '2-digit', 
                timeZoneName: 'short' 
            });
            document.getElementById('digest-time').textContent = `As of ${timeString}`;
            
            // Content pools for rotation
            const headlines = [
                "AI Breakthroughs Reshape Enterprise Software Landscape",
                "Open Source AI Models Challenge Tech Giants' Dominance",
                "Healthcare AI Makes Significant Strides in Diagnostics",
                "New AI Regulations Spark Industry-Wide Compliance Rush",
                "AI Automation Transforms Traditional Industries",
                "Multimodal AI Systems Show Unprecedented Capabilities",
                "Enterprise AI Adoption Accelerates Across Sectors",
                "AI Safety Research Gains Momentum Globally",
                "Natural Language AI Reaches New Performance Milestones",
                "AI Infrastructure Investments Hit Record Highs"
            ];
            
            const trendSets = [
                [
                    "Enterprise AI adoption reaches critical mass with 78% of Fortune 500 companies implementing AI solutions",
                    "Open-source LLMs achieve performance parity with proprietary models in specialized domains",
                    "AI-powered drug discovery reduces development time by 40% in clinical trials",
                    "New EU AI Act provisions come into effect, reshaping global compliance strategies"
                ],
                [
                    "Generative AI transforms creative industries with advanced multimodal capabilities",
                    "Edge AI computing reduces latency by 90% for real-time applications",
                    "AI cybersecurity tools prevent 95% of sophisticated phishing attempts",
                    "Sustainable AI initiatives reduce model training costs by 60%"
                ],
                [
                    "Conversational AI achieves human-level performance in customer service benchmarks",
                    "AI-driven supply chain optimization saves enterprises millions in logistics costs",
                    "Medical AI diagnostics outperform specialists in early cancer detection",
                    "Quantum-AI hybrid systems show promise for complex problem solving"
                ],
                [
                    "AI code generation tools boost developer productivity by 55%",
                    "Autonomous AI agents handle 80% of routine business processes",
                    "Privacy-preserving AI techniques gain traction in sensitive industries",
                    "AI education platforms personalize learning for millions of students"
                ],
                [
                    "Real-time AI translation breaks down language barriers in global business",
                    "AI-powered climate models improve weather prediction accuracy by 30%",
                    "Robotic process automation with AI reduces operational costs by 45%",
                    "AI governance frameworks become mandatory for public sector deployments"
                ]
            ];
            
            const topStories = [
                "OpenAI's latest model demonstrates unprecedented reasoning capabilities, solving complex mathematical proofs and scientific problems that stumped previous systems. Industry experts predict this breakthrough will accelerate AI adoption in research and education sectors.",
                "Microsoft integrates advanced AI across its entire Office suite, enabling users to generate presentations, analyze data, and draft documents with natural language commands. Early adopters report 70% time savings on routine tasks.",
                "Google's medical AI achieves 98% accuracy in detecting rare diseases from routine scans, potentially saving thousands of lives through early intervention. Healthcare providers rush to implement the technology.",
                "Amazon's new AI logistics system optimizes delivery routes in real-time, reducing carbon emissions by 25% while improving delivery speeds. The system processes millions of variables to create efficient routing.",
                "Meta's multimodal AI can now understand and generate content across text, images, video, and audio simultaneously, opening new possibilities for content creation and accessibility tools.",
                "NVIDIA's latest AI chip architecture delivers 10x performance improvement for large language models, making enterprise AI deployment more cost-effective and environmentally sustainable.",
                "Anthropic's breakthrough in AI alignment ensures models follow human values more reliably, addressing key safety concerns that have slowed enterprise adoption.",
                "Tesla's autonomous driving AI achieves Level 4 automation in controlled environments, bringing fully self-driving vehicles closer to mainstream reality.",
                "IBM's quantum-AI hybrid system solves optimization problems 1000x faster than classical computers, revolutionizing logistics and financial modeling.",
                "Apple's on-device AI processes sensitive data without cloud connectivity, setting new standards for privacy-preserving artificial intelligence."
            ];
            
            const outlooks = [
                "Watch for major announcements from tech giants as they compete to integrate AI into consumer products. Regulatory discussions will intensify as governments seek to balance innovation with safety concerns.",
                "Enterprise AI adoption will accelerate as ROI becomes clearer. Expect significant investments in AI infrastructure and training programs as companies race to stay competitive.",
                "Open-source AI communities will release models that rival commercial offerings, democratizing access to advanced AI capabilities for smaller organizations and researchers.",
                "Healthcare AI applications will expand rapidly following successful pilots. Privacy and security will be paramount as sensitive medical data is processed by AI systems.",
                "AI safety and alignment research will gain prominence as models become more powerful. Industry collaboration on safety standards will shape the future of AI development.",
                "The AI talent war will intensify with companies offering unprecedented packages to attract top researchers and engineers. Educational institutions will expand AI programs to meet demand.",
                "Sustainable AI will become a key focus as the environmental impact of large-scale model training comes under scrutiny. Efficiency improvements will be crucial for continued growth.",
                "AI regulation will vary significantly by region, creating challenges for global deployment. Companies will need flexible strategies to navigate different regulatory landscapes.",
                "Small and medium businesses will increasingly adopt AI tools as costs decrease and user-friendly platforms emerge. This democratization will transform traditional industries.",
                "AI-powered automation will reshape the job market, creating new roles while transforming existing ones. Reskilling programs will be essential for workforce adaptation."
            ];
            
            // Chart data variations
            const chartDataSets = [
                { labels: ['OpenAI', 'Microsoft', 'Healthcare', 'Ethics', 'Business'], data: [32, 24, 18, 14, 12], colors: ['#f9c74f', '#43aa8b', '#f8961e', '#90be6d', '#277da1'] },
                { labels: ['Enterprise', 'Research', 'Security', 'Education', 'Finance'], data: [28, 22, 20, 18, 12], colors: ['#277da1', '#43aa8b', '#f9c74f', '#f8961e', '#90be6d'] },
                { labels: ['Google', 'Meta', 'Startups', 'Open Source', 'Policy'], data: [26, 23, 21, 18, 12], colors: ['#43aa8b', '#277da1', '#f8961e', '#90be6d', '#f9c74f'] },
                { labels: ['Healthcare', 'Finance', 'Retail', 'Manufacturing', 'Legal'], data: [30, 25, 20, 15, 10], colors: ['#f8961e', '#f9c74f', '#43aa8b', '#277da1', '#90be6d'] },
                { labels: ['LLMs', 'Computer Vision', 'Robotics', 'NLP', 'MLOps'], data: [35, 22, 18, 15, 10], colors: ['#90be6d', '#f9c74f', '#277da1', '#43aa8b', '#f8961e'] }
            ];
            
            // Select content based on day of year for daily rotation
            const headlineIndex = dayOfYear % headlines.length;
            const trendSetIndex = dayOfYear % trendSets.length;
            const topStoryIndex = dayOfYear % topStories.length;
            const outlookIndex = dayOfYear % outlooks.length;
            const chartDataIndex = dayOfYear % chartDataSets.length;
            
            // Update headline
            document.getElementById('digest-headline').textContent = headlines[headlineIndex];
            
            // Update trends
            const trendsList = document.getElementById('key-trends-list');
            trendsList.innerHTML = trendSets[trendSetIndex].map(trend => `
                <li style="color: #333; margin-bottom: 12px; padding-left: 20px; position: relative; line-height: 1.5;">
                    <span style="position: absolute; left: 0; color: #f9c74f;">▸</span>
                    ${trend}
                </li>
            `).join('');
            
            // Update top story
            document.getElementById('top-story-content').textContent = topStories[topStoryIndex];
            
            // Update outlook
            document.getElementById('outlook-content').textContent = outlooks[outlookIndex];
            
            // Update chart
            const chartData = chartDataSets[chartDataIndex];
            const canvas = document.getElementById('digest-chart');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size with proper scaling for retina displays
            const scale = window.devicePixelRatio || 1;
            canvas.width = canvas.offsetWidth * scale;
            canvas.height = canvas.offsetHeight * scale;
            ctx.scale(scale, scale);
            
            // Chart dimensions
            const width = canvas.offsetWidth;
            const height = canvas.offsetHeight;
            const centerX = width / 2;
            const centerY = height / 2 - 15; // Move up to make room for legend
            const radius = Math.min(centerX, centerY) - 50;
            const innerRadius = radius * 0.6;
            
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Draw title
            ctx.fillStyle = '#1a1f71';
            ctx.font = 'bold 16px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('Top 5 AI News Categories', centerX, 25);
            
            let currentAngle = -Math.PI / 2; // Start at top
            const total = chartData.data.reduce((a, b) => a + b, 0);
            
            // Draw segments
            chartData.data.forEach((value, index) => {
                const sliceAngle = (value / total) * 2 * Math.PI;
                
                // Draw segment
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                ctx.arc(centerX, centerY, innerRadius, currentAngle + sliceAngle, currentAngle, true);
                ctx.closePath();
                ctx.fillStyle = chartData.colors[index];
                ctx.fill();
                
                // Draw white border between segments
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Draw value in segment
                const textAngle = currentAngle + sliceAngle / 2;
                const textRadius = (radius + innerRadius) / 2;
                const textX = centerX + Math.cos(textAngle) * textRadius;
                const textY = centerY + Math.sin(textAngle) * textRadius;
                ctx.fillStyle = '#000';
                ctx.font = 'bold 14px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(value.toString(), textX, textY);
                
                currentAngle += sliceAngle;
            });
            
            // Draw legend below chart
            const legendStartY = centerY + radius + 25;
            const legendItemHeight = 20;
            const legendColumns = Math.ceil(chartData.labels.length / 3); // Max 3 items per row
            const legendItemsPerColumn = Math.ceil(chartData.labels.length / legendColumns);
            const columnWidth = width / legendColumns;
            
            chartData.labels.forEach((label, index) => {
                const row = index % legendItemsPerColumn;
                const col = Math.floor(index / legendItemsPerColumn);
                const legendX = col * columnWidth + 20;
                const legendY = legendStartY + row * legendItemHeight;
                
                // Color box
                ctx.fillStyle = chartData.colors[index];
                ctx.fillRect(legendX, legendY - 6, 12, 12);
                
                // Label
                ctx.fillStyle = '#333';
                ctx.font = '12px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
                ctx.textAlign = 'left';
                ctx.fillText(label, legendX + 18, legendY + 2);
            });
            
            // Update chart caption
            const articleCount = 80 + (dayOfYear % 40); // Varies between 80-120
            document.getElementById('chart-caption').textContent = `Analyzed ${articleCount} articles from the past 24 hours`;
        }
        
        // Load daily digest on page load
        generateDailyDigest();
        
        // Load news feeds on page load
        loadAllNewsFeeds();
        
        // Refresh every 2 hours
        setInterval(loadAllNewsFeeds, 2 * 60 * 60 * 1000);
        
        // Regenerate digest at midnight
        const now = new Date();
        const midnight = new Date(now);
        midnight.setHours(24, 0, 0, 0);
        const msToMidnight = midnight.getTime() - now.getTime();
        
        setTimeout(() => {
            generateDailyDigest();
            // Then refresh daily
            setInterval(generateDailyDigest, 24 * 60 * 60 * 1000);
        }, msToMidnight);
    </script>
</body>
</html>